#!/bin/bash

# Script pour configurer le domaine personnalis√© sur CloudFront
# ATTENTION: Ce script n√©cessite des actions manuelles dans la console AWS

DISTRIBUTION_ID="E1CDGKUKVPVX55"
DOMAIN="supratourstravel.com"
WWW_DOMAIN="www.supratourstravel.com"

echo "üîß Configuration du domaine personnalis√© pour CloudFront"
echo "==============================================="
echo ""
echo "Distribution ID: $DISTRIBUTION_ID"
echo "Domaine principal: $DOMAIN"
echo "Domaine www: $WWW_DOMAIN"
echo ""
echo "‚ö†Ô∏è  √âTAPES MANUELLES REQUISES :"
echo ""
echo "1. üìã Aller dans la console AWS CloudFront:"
echo "   https://console.aws.amazon.com/cloudfront/v3/home"
echo ""
echo "2. üéØ S√©lectionner la distribution: $DISTRIBUTION_ID"
echo ""
echo "3. ‚úèÔ∏è  Cliquer sur 'Edit' dans l'onglet 'General'"
echo ""
echo "4. üåê Dans 'Alternate domain names (CNAMEs)', ajouter:"
echo "   - $DOMAIN"
echo "   - $WWW_DOMAIN"
echo ""
echo "5. üîí Pour 'SSL Certificate':"
echo "   - S√©lectionner 'Custom SSL certificate'"
echo "   - Cliquer 'Request certificate' (cela ouvrira ACM)"
echo "   - Demander un certificat pour: *.$DOMAIN"
echo "   - Valider le certificat via DNS ou email"
echo ""
echo "6. üíæ Sauvegarder les changements"
echo ""
echo "7. üåç Configurer le DNS chez votre h√©bergeur:"
echo "   Type  | Nom | Valeur"
echo "   ------|-----|-------"
echo "   CNAME | www | d3izgnl4i03wrb.cloudfront.net"
echo "   A     | @   | [IP de CloudFront ou utiliser ALIAS si support√©]"
echo ""
echo "‚è∞ Temps de propagation: 5-48 heures selon l'h√©bergeur DNS"
echo ""
echo "‚úÖ Apr√®s configuration, votre site sera accessible via:"
echo "   - https://$DOMAIN"
echo "   - https://$WWW_DOMAIN"
echo ""
echo "üîç Pour v√©rifier la propagation DNS:"
echo "   dig $DOMAIN"
echo "   dig $WWW_DOMAIN"